/**
 * @file 以浅拷贝的方式展开对象
 * @author picheng@sensorsdata.cn
 */

/**
 * @param {Object} obj 要展开的对象
 * @param {string} selector 要展开的深层结构，如：data.config.list
 */
export default (obj, selector) => {
  const keys = selector.split('.');
  const lastIndex = keys.length - 1;
  let targetObj = obj;
  keys.forEach((key, index) => {
    const value = targetObj[key];
    const cloneValue = value instanceof Array ? [ ...value ] : { ...value };
    targetObj[key] = cloneValue;
    if (index < lastIndex) {
      targetObj = targetObj[key];
    }
  });
}