/**
 * @file 为数字添加千位分隔符
 * @author picheng@sensorsdata.cn
 */

/**
 * @param {number} num 要添加分隔符的数字
 * @return {string} 添加分隔符后的字符串
 */
export default num => {
  const split = String(num).split('.');
  const integer = split[0];
  if (integer.length < 4) {
    return num;
  }
  const decimal = split[1];
  const length = integer.length % 3;
  return (
    (
      integer.slice(0, length) +
      integer.slice(length).replace(/(\d{3})/g, ',$1')
    ).replace(/^,/, '') + (decimal ? '.' + decimal : '')
  );
}
